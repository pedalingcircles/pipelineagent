{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "bastionHostName": {
      "value": "bastion-agent"
    },
    "bastionNsgName": {
      "value": "nsg-bastion"
    },
    "bastionPipName": {
      "value": "pip-bastion"
    },
    "tags": {
      "value": {
        "foo": "bar", 
        "bang": "bazz"
      }
    },
    "vmAgentNsgName": {
      "value": "nsg-vmagent"
    },
    "keyVaultName": {
      "value": "kv-agents"
    },
    "keyVaultAccessPolicies": {
      "value": [
        {
          "objectId": "",
          "tenantId": "[parameters('tenantId')]",
          "permissions": {
            "keys": [
              "Get",
              "List",
              "Create"
            ]
          }
        }
      ]
    },
    "vNetSettings": {
      "value": {
        "name": "vnet-agents",
        "addressPrefixes": [
          {
            "name": "firstPrefix",
            "addressPrefix": "10.0.0.0/16"
          }
        ],
        "subnets": [
          {
            "addressPrefix": "10.0.0.0/24"
          },
          {
            "addressPrefix": "10.0.1.0/24"
          },
          {
            "addressPrefix": "10.0.2.0/24"
          }
        ]
      }
    }
  }
}